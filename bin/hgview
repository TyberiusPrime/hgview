#!/usr/bin/env python

import sys, os
import os.path as pos

try:
    import hgview
except ImportError:
    import stat
    exec_path = pos.abspath(__file__)
    # Resolve symbolic links
    statinfo = os.lstat(exec_path)
    if stat.S_ISLNK(statinfo.st_mode):
        exec_path = pos.abspath(pos.join(pos.dirname(exec_path),
                                os.readlink(exec_path)))
    py_path = pos.abspath(pos.join(pos.dirname(exec_path), ".."))
    #print "Inserting:", py_path
    sys.path.append(py_path)

from hgview.qt4 import hgview_qt4 as hgview

hgview.main()

